<div class="search-container">
  <h1 class="mb-4">Pesquisar País</h1>

  <div class="input-group mb-4">
    <input
      #searchInput
      type="text"
      class="form-control"
      placeholder="Digite o nome do país em português..."
      (keyup.enter)="searchCountries(searchInput.value)"
    />
    <button
      class="btn btn-primary"
      type="button"
      (click)="searchCountries(searchInput.value)"
    >
      Pesquisar
    </button>
  </div>

  <div *ngIf="!isLoading && !hasSearched" class="alert alert-info">
    <p class="mb-0">
      Use a barra de pesquisa acima para encontrar países pelo nome em
      português.
    </p>
  </div>

  <div *ngIf="isLoading" class="text-center">
    <p>Buscando...</p>
  </div>

  <div *ngIf="errorMessage" class="alert alert-warning text-center">
    {{ errorMessage }}
  </div>

  <div *ngIf="!isLoading && countries.length > 0" class="row">
    <div
      *ngFor="let country of countries"
      class="col-12 col-md-6 col-lg-4 mb-4"
    >
      <a
        [routerLink]="['/pais', country.translations.por.common]"
        class="text-decoration-none"
      >
        <div class="card h-100">
          <img
            [src]="country.flags.svg"
            class="card-img-top"
            [alt]="country.flags.alt"
          />
          <div class="card-body">
            <h5 class="card-title">{{ country.translations.por.common }}</h5>
            <p class="card-text">
              <strong>População:</strong> {{ country.population | number }}
            </p>
            <p class="card-text">
              <strong>Capital:</strong>
              {{ country.capital ? country.capital[0] : "N/A" }}
            </p>
          </div>
        </div>
      </a>
    </div>
  </div>
</div>
